{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport authState from \"~/stores/auth\";\nimport firebase from \"~/modules/firebase\";\n\nvar Auth = function Auth(_ref) {\n  _s();\n\n  var children = _ref.children,\n      shouldLoggedIn = _ref.shouldLoggedIn;\n\n  var _useRecoilState = useRecoilState(authState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      uid = _useRecoilState2[0],\n      setAuth = _useRecoilState2[1];\n\n  useEffect(function () {\n    var unsubscribe = firebase.auth().onAuthStateChanged(function (user) {\n      var _user$uid;\n\n      setAuth((_user$uid = user === null || user === void 0 ? void 0 : user.uid) !== null && _user$uid !== void 0 ? _user$uid : null);\n    });\n    return function () {\n      unsubscribe();\n    };\n  });\n\n  if (shouldLoggedIn) {\n    return uid ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false);\n  }\n};\n\n_s(Auth, \"MbwtOIX6+nD74FkNTEwq74+ykNA=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/teranyan/workspace/OrangeJuiceWeb/src/components/auth.tsx"],"names":["useEffect","useRecoilState","authState","firebase","Auth","children","shouldLoggedIn","uid","setAuth","unsubscribe","auth","onAuthStateChanged","user"],"mappings":";;;;;;AAAA,SAAaA,SAAb,QAA8B,OAA9B;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAMA,IAAMC,IAAe,GAAG,SAAlBA,IAAkB,OAAkC;AAAA;;AAAA,MAA/BC,QAA+B,QAA/BA,QAA+B;AAAA,MAArBC,cAAqB,QAArBA,cAAqB;;AAAA,wBACjCL,cAAc,CAACC,SAAD,CADmB;AAAA;AAAA,MACjDK,GADiD;AAAA,MAC5CC,OAD4C;;AAExDR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMS,WAAW,GAAGN,QAAQ,CAACO,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,IAAD,EAAU;AAAA;;AAC/DJ,MAAAA,OAAO,cAACI,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEL,GAAP,iDAAc,IAAd,CAAP;AACD,KAFmB,CAApB;AAGA,WAAO,YAAM;AACXE,MAAAA,WAAW;AACZ,KAFD;AAGD,GAPQ,CAAT;;AAQA,MAAIH,cAAJ,EAAoB;AAClB,WAAOC,GAAG,gBAAG;AAAA,gBAAGF;AAAH,qBAAH,gBAAqB,qCAA/B;AACD,GAFD,MAEO;AACL,wBAAO;AAAA,gBAAGA;AAAH,qBAAP;AACD;AACF,CAfD;;GAAMD,I;UACmBH,c;;;KADnBG,I;AAiBN,eAAeA,IAAf","sourcesContent":["import { FC, useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport authState from \"~/stores/auth\";\nimport firebase from \"~/modules/firebase\";\n\ninterface Props {\n  shouldLoggedIn?: boolean;\n}\n\nconst Auth: FC<Props> = ({ children, shouldLoggedIn }) => {\n  const [uid, setAuth] = useRecoilState(authState);\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      setAuth(user?.uid ?? null);\n    });\n    return () => {\n      unsubscribe()\n    };\n  });\n  if (shouldLoggedIn) {\n    return uid ? <>{children}</> : <></>;\n  } else {\n    return <>{children}</>;\n  }\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}