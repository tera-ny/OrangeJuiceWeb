{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport authState from \"~/stores/auth\";\nimport firebase from \"~/modules/firebase\";\n\nconst Auth = ({\n  children,\n  shouldLoggedIn\n}) => {\n  const [uid, setAuth] = useRecoilState(authState);\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(user => {\n      var _user$uid;\n\n      setAuth((_user$uid = user === null || user === void 0 ? void 0 : user.uid) !== null && _user$uid !== void 0 ? _user$uid : null);\n    });\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  if (shouldLoggedIn) {\n    return uid ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false);\n  }\n};\n\nexport default Auth;","map":{"version":3,"sources":["/Users/teranyan/workspace/OrangeJuiceWeb/src/components/auth.tsx"],"names":["useEffect","useRecoilState","authState","firebase","Auth","children","shouldLoggedIn","uid","setAuth","unsubscribe","auth","onAuthStateChanged","user"],"mappings":";;AAAA,SAAaA,SAAb,QAA8B,OAA9B;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAMA,MAAMC,IAAe,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAAkC;AACxD,QAAM,CAACC,GAAD,EAAMC,OAAN,IAAiBP,cAAc,CAACC,SAAD,CAArC;AACAF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,WAAW,GAAGN,QAAQ,CAACO,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAAA;;AAC/DJ,MAAAA,OAAO,cAACI,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEL,GAAP,iDAAc,IAAd,CAAP;AACD,KAFmB,CAApB;AAGA,WAAO,MAAM;AACXE,MAAAA,WAAW;AACZ,KAFD;AAGD,GAPQ,CAAT;;AAQA,MAAIH,cAAJ,EAAoB;AAClB,WAAOC,GAAG,gBAAG;AAAA,gBAAGF;AAAH,qBAAH,gBAAqB,qCAA/B;AACD,GAFD,MAEO;AACL,wBAAO;AAAA,gBAAGA;AAAH,qBAAP;AACD;AACF,CAfD;;AAiBA,eAAeD,IAAf","sourcesContent":["import { FC, useEffect } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport authState from \"~/stores/auth\";\nimport firebase from \"~/modules/firebase\";\n\ninterface Props {\n  shouldLoggedIn?: boolean;\n}\n\nconst Auth: FC<Props> = ({ children, shouldLoggedIn }) => {\n  const [uid, setAuth] = useRecoilState(authState);\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      setAuth(user?.uid ?? null);\n    });\n    return () => {\n      unsubscribe();\n    };\n  });\n  if (shouldLoggedIn) {\n    return uid ? <>{children}</> : <></>;\n  } else {\n    return <>{children}</>;\n  }\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}